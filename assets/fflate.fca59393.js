var r=Uint8Array,n=Uint16Array,e=Uint32Array,f=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),t=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i=function(r,f){for(var a=new n(31),t=0;t<31;++t)a[t]=f+=1<<r[t-1];var i=new e(a[30]);for(t=1;t<30;++t)for(var o=a[t];o<a[t+1];++o)i[o]=o-a[t]<<5|t;return[a,i]},o=i(f,2),v=o[0],u=o[1];v[28]=258,u[258]=28;for(var l=i(a,0),s=l[0],h=l[1],c=new n(32768),w=0;w<32768;++w){var g=(43690&w)>>>1|(21845&w)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,c[w]=((65280&g)>>>8|(255&g)<<8)>>>1}var b=function(r,e,f){for(var a=r.length,t=0,i=new n(e);t<a;++t)++i[r[t]-1];var o,v=new n(e);for(t=0;t<e;++t)v[t]=v[t-1]+i[t-1]<<1;if(f){o=new n(1<<e);var u=15-e;for(t=0;t<a;++t)if(r[t])for(var l=t<<4|r[t],s=e-r[t],h=v[r[t]-1]++<<s,w=h|(1<<s)-1;h<=w;++h)o[c[h]>>>u]=l}else for(o=new n(a),t=0;t<a;++t)o[t]=c[v[r[t]-1]++]>>>15-r[t];return o},d=new r(288);for(w=0;w<144;++w)d[w]=8;for(w=144;w<256;++w)d[w]=9;for(w=256;w<280;++w)d[w]=7;for(w=280;w<288;++w)d[w]=8;var p=new r(32);for(w=0;w<32;++w)p[w]=5;var m=b(d,9,0),y=b(d,9,1),M=b(p,5,0),x=b(p,5,1),k=function(r){for(var n=r[0],e=1;e<r.length;++e)r[e]>n&&(n=r[e]);return n},E=function(r,n,e){var f=n/8>>0;return(r[f]|r[f+1]<<8)>>>(7&n)&e},F=function(r,n){var e=n/8>>0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>>(7&n)},O=function(r){return(r/8>>0)+(7&r&&1)},z=function(f,a,t){(null==a||a<0)&&(a=0),(null==t||t>f.length)&&(t=f.length);var i=new(f instanceof n?n:f instanceof e?e:r)(t-a);return i.set(f.subarray(a,t)),i},A=function(r,n,e){e<<=7&n;var f=n/8>>0;r[f]|=e,r[f+1]|=e>>>8},U=function(r,n,e){e<<=7&n;var f=n/8>>0;r[f]|=e,r[f+1]|=e>>>8,r[f+2]|=e>>>16},j=function(e,f){for(var a=[],t=0;t<e.length;++t)e[t]&&a.push({s:t,f:e[t]});var i=a.length,o=a.slice();if(!i)return[new r(0),0];if(1==i){var v=new r(a[0].s+1);return v[a[0].s]=1,[v,1]}a.sort((function(r,n){return r.f-n.f})),a.push({s:-1,f:25001});var u=a[0],l=a[1],s=0,h=1,c=2;for(a[0]={s:-1,f:u.f+l.f,l:u,r:l};h!=i-1;)u=a[a[s].f<a[c].f?s++:c++],l=a[s!=h&&a[s].f<a[c].f?s++:c++],a[h++]={s:-1,f:u.f+l.f,l:u,r:l};var w=o[0].s;for(t=1;t<i;++t)o[t].s>w&&(w=o[t].s);var g=new n(w+1),b=q(a[h-1],g,0);if(b>f){t=0;var d=0,p=b-f,m=1<<p;for(o.sort((function(r,n){return g[n.s]-g[r.s]||r.f-n.f}));t<i;++t){var y=o[t].s;if(!(g[y]>f))break;d+=m-(1<<b-g[y]),g[y]=f}for(d>>>=p;d>0;){var M=o[t].s;g[M]<f?d-=1<<f-g[M]++-1:++t}for(;t>=0&&d;--t){var x=o[t].s;g[x]==f&&(--g[x],++d)}b=f}return[new r(g),b]},q=function(r,n,e){return-1==r.s?Math.max(q(r.l,n,e+1),q(r.r,n,e+1)):n[r.s]=e},B=function(r){for(var e=r.length;e&&!r[--e];);for(var f=new n(++e),a=0,t=r[0],i=1,o=function(r){f[a++]=r},v=1;v<=e;++v)if(r[v]==t&&v!=e)++i;else{if(!t&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(t),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(t);i=1,t=r[v]}return[f.subarray(0,a),e]},C=function(r,n){for(var e=0,f=0;f<n.length;++f)e+=r[f]*n[f];return e},D=function(r,n,e){var f=e.length,a=O(n+2);r[a]=255&f,r[a+1]=f>>>8,r[a+2]=255^r[a],r[a+3]=255^r[a+1];for(var t=0;t<f;++t)r[a+t+4]=e[t];return 8*(a+4+f)},G=function(r,e,i,o,v,u,l,s,h,c,w){A(e,w++,i),++v[256];for(var g=j(v,15),y=g[0],x=g[1],k=j(u,15),E=k[0],F=k[1],O=B(y),z=O[0],q=O[1],G=B(E),H=G[0],I=G[1],J=new n(19),K=0;K<z.length;++K)J[31&z[K]]++;for(K=0;K<H.length;++K)J[31&H[K]]++;for(var L=j(J,7),N=L[0],P=L[1],Q=19;Q>4&&!N[t[Q-1]];--Q);var R,S,T,V,W=c+5<<3,X=C(v,d)+C(u,p)+l,Y=C(v,y)+C(u,E)+l+14+3*Q+C(J,N)+(2*J[16]+3*J[17]+7*J[18]);if(W<=X&&W<=Y)return D(e,w,r.subarray(h,h+c));if(A(e,w,1+(Y<X)),w+=2,Y<X){R=b(y,x,0),S=y,T=b(E,F,0),V=E;var Z=b(N,P,0);A(e,w,q-257),A(e,w+5,I-1),A(e,w+10,Q-4),w+=14;for(K=0;K<Q;++K)A(e,w+3*K,N[t[K]]);w+=3*Q;for(var $=[z,H],_=0;_<2;++_){var rr=$[_];for(K=0;K<rr.length;++K){var nr=31&rr[K];A(e,w,Z[nr]),w+=N[nr],nr>15&&(A(e,w,rr[K]>>>5&127),w+=rr[K]>>>12)}}}else R=m,S=d,T=M,V=p;for(K=0;K<s;++K)if(o[K]>255){nr=o[K]>>>18&31;U(e,w,R[nr+257]),w+=S[nr+257],nr>7&&(A(e,w,o[K]>>>23&31),w+=f[nr]);var er=31&o[K];U(e,w,T[er]),w+=V[er],er>3&&(U(e,w,o[K]>>>5&8191),w+=a[er])}else U(e,w,R[o[K]]),w+=S[o[K]];return U(e,w,R[256]),w+S[256]},H=new e([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),I=new r(0),J=function(t,i,o,v,l){return function(t,i,o,v,l,s){var c=t.length,w=new r(v+c+5*(1+Math.floor(c/7e3))+l),g=w.subarray(v,w.length-l),b=0;if(!i||c<8)for(var d=0;d<=c;d+=65535){var p=d+65535;p<c?b=D(g,b,t.subarray(d,p)):(g[d]=s,b=D(g,b,t.subarray(d,c)))}else{for(var m=H[i-1],y=m>>>13,M=8191&m,x=(1<<o)-1,k=new n(32768),E=new n(x+1),F=Math.ceil(o/3),A=2*F,U=function(r){return(t[r]^t[r+1]<<F^t[r+2]<<A)&x},j=new e(25e3),q=new n(288),B=new n(32),C=0,J=0,K=(d=0,0),L=0,N=0;d<c;++d){var P=U(d),Q=32767&d,R=E[P];if(k[Q]=R,E[P]=Q,L<=d){var S=c-d;if((C>7e3||K>24576)&&S>423){b=G(t,g,0,j,q,B,J,K,N,d-N,b),K=C=J=0,N=d;for(var T=0;T<286;++T)q[T]=0;for(T=0;T<30;++T)B[T]=0}var V=2,W=0,X=M,Y=Q-R&32767;if(S>2&&P==U(d-Y))for(var Z=Math.min(y,S)-1,$=Math.min(32767,d),_=Math.min(258,S);Y<=$&&--X&&Q!=R;){if(t[d+V]==t[d+V-Y]){for(var rr=0;rr<_&&t[d+rr]==t[d+rr-Y];++rr);if(rr>V){if(V=rr,W=Y,rr>Z)break;var nr=Math.min(Y,rr-2),er=0;for(T=0;T<nr;++T){var fr=d-Y+T+32768&32767,ar=fr-k[fr]+32768&32767;ar>er&&(er=ar,R=fr)}}}Y+=(Q=R)-(R=k[Q])+32768&32767}if(W){j[K++]=268435456|u[V]<<18|h[W];var tr=31&u[V],ir=31&h[W];J+=f[tr]+a[ir],++q[257+tr],++B[ir],L=d+V,++C}else j[K++]=t[d],++q[t[d]]}}b=G(t,g,s,j,q,B,J,K,N,d-N,b),s||(b=D(g,b,I))}return z(w,0,v+O(b)+l)}(t,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,o,v,!l)};function K(r,n){void 0===n&&(n={});var e=function(){var r=1,n=0;return{p:function(e){for(var f=r,a=n,t=e.length,i=0;i!=t;){for(var o=Math.min(i+5552,t);i<o;++i)a+=f+=e[i];f%=65521,a%=65521}r=f,n=a},d:function(){return(r>>>8<<16|(255&n)<<8|n>>>8)+2*((255&r)<<23)}}}();e.p(r);var f,a,t,i=J(r,n,2,4);return f=i,a=n.level,t=0==a?0:a<6?1:9==a?3:2,f[0]=120,f[1]=t<<6|(t?32-2*t:1),function(r,n,e){for(;e;++n)r[n]=e,e>>>=8}(i,i.length-4,e.d()),i}function L(n,e){return function(n,e,i){var o=n.length,u=!e||i,l=!i||i.i;i||(i={}),e||(e=new r(3*o));var h=function(n){var f=e.length;if(n>f){var a=new r(Math.max(2*f,n));a.set(e),e=a}},c=i.f||0,w=i.p||0,g=i.b||0,d=i.l,p=i.d,m=i.m,M=i.n,A=8*o;do{if(!d){i.f=c=E(n,w,1);var U=E(n,w+1,3);if(w+=3,!U){var j=n[(N=O(w)+4)-4]|n[N-3]<<8,q=N+j;if(q>o){if(l)throw"unexpected EOF";break}u&&h(g+j),e.set(n.subarray(N,q),g),i.b=g+=j,i.p=w=8*q;continue}if(1==U)d=y,p=x,m=9,M=5;else{if(2!=U)throw"invalid block type";var B=E(n,w,31)+257,C=E(n,w+10,15)+4,D=B+E(n,w+5,31)+1;w+=14;for(var G=new r(D),H=new r(19),I=0;I<C;++I)H[t[I]]=E(n,w+3*I,7);w+=3*C;var J=k(H),K=(1<<J)-1;if(!l&&w+D*(J+7)>A)break;var L=b(H,J,1);for(I=0;I<D;){var N,P=L[E(n,w,K)];if(w+=15&P,(N=P>>>4)<16)G[I++]=N;else{var Q=0,R=0;for(16==N?(R=3+E(n,w,3),w+=2,Q=G[I-1]):17==N?(R=3+E(n,w,7),w+=3):18==N&&(R=11+E(n,w,127),w+=7);R--;)G[I++]=Q}}var S=G.subarray(0,B),T=G.subarray(B);m=k(S),M=k(T),d=b(S,m,1),p=b(T,M,1)}if(w>A)throw"unexpected EOF"}u&&h(g+131072);for(var V=(1<<m)-1,W=(1<<M)-1,X=m+M+18;l||w+X<A;){var Y=(Q=d[F(n,w)&V])>>>4;if((w+=15&Q)>A)throw"unexpected EOF";if(!Q)throw"invalid length/literal";if(Y<256)e[g++]=Y;else{if(256==Y){d=null;break}var Z=Y-254;if(Y>264){var $=f[I=Y-257];Z=E(n,w,(1<<$)-1)+v[I],w+=$}var _=p[F(n,w)&W],rr=_>>>4;if(!_)throw"invalid distance";if(w+=15&_,T=s[rr],rr>3&&($=a[rr],T+=F(n,w)&(1<<$)-1,w+=$),w>A)throw"unexpected EOF";u&&h(g+131072);for(var nr=g+Z;g<nr;g+=4)e[g]=e[g-T],e[g+1]=e[g+1-T],e[g+2]=e[g+2-T],e[g+3]=e[g+3-T];g=nr}}i.l=d,i.p=w,i.b=g,d&&(c=1,i.m=m,i.d=p,i.n=M)}while(!c);return g==e.length?e:z(e,0,g)}((function(r){if(8!=(15&r[0])||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(32&r[1])throw"invalid zlib data: preset dictionaries not supported"}(n),n.subarray(2,-4)),e)}export{L as u,K as z};
